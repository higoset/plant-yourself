<head>
    <script src='socket.io/socket.io.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>  
    <div style="display: none;">
        <img id="eye" src="http://users.wpi.edu/~ejcerini/Pictures/round.png" />
    </div>
</head>
<body style="background-color: rgba(135, 0, 188, 1);">

    <div id="status"><b>This is our socket.io file.</b></div>
    
    <div id="players"><b>Players:</b> <br /></div>
    
    <button id="Button1" onClick="sendA()">A</button>
    <div id="gameZone"></div>

    <script>
        var socket = io.connect();
        
        var myID = 0;

        socket.on('starter', function(){
            $('#status').text("Press the start button when ready!");
            var button = document.getElementById("Button1");
            button.textContent = "Start!";
            button.style.display = 'block';
            button.onclick = function(){
                socket.emit('start');
            }
            var p = document.getElementById("players");
            p.style.display = 'none';
        });
        
        socket.on('host', function(){
            $('#status').text("Waiting for more players...");
            var button = document.getElementById("Button1");
            button.style.display = 'none';
        });
        
        socket.on('wait', function(){
            $('#status').text("Please wait for the host to start the game!");
            var button = document.getElementById("Button1");
            button.style.display = 'none';
            var p = document.getElementById("players");
            p.style.display = 'none';

        });
        
        socket.on('prompt', function(){
            var name = prompt("Please enter your name!", "name")
            if(name != null){
                socket.emit('name', name);
            }
        })
        
        socket.on('new', function(data){
            console.log("Why?");
            var p = document.getElementById("players");
            p.innerHTML = p.innerHTML + data + '<br />';
        })
        
        socket.on('roundStartHost', function(){
            var playArea = document.getElementById("gameZone");
            playArea.innerHTML = "<table style='width: 32px;'> <tbody> <tr> <td style='width: 10.4px;'><img src='http://users.wpi.edu/~ejcerini/Pictures/round.png' alt='' /></td> <td style='width: 10px;'><img src='http://users.wpi.edu/~ejcerini/Pictures/saguaro1.png' alt='' /></td> <td style='width: 10px;'><img src='http://users.wpi.edu/~ejcerini/Pictures/acacia1.png' alt='' /></td> </tr><tr><td style='width: 10.4px; text-align: center; font-size: 20pt'>A</td><td style='width: 10px; text-align: center; font-size: 20pt'>B</td><td style='width: 10px; text-align: center; font-size: 20pt'>C</td></tr></tbody></table>";
        })
        
        function sendA(){
            socket.emit('client_data', 'A');
        }
        
        socket.on('A', function(){
            
            var img = document.getElementById("eye");
            ctx.drawImage(img, 0, 20, 50, 50);
            ctx.drawImage(img, width*(1/4), 20, 50, 50);
            ctx.drawImage(img, width*(2/4), 20, 50, 50);

        });

    </script>
</body>